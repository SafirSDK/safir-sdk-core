<?xml version="1.0" encoding="utf-8"?>
<object xmlns="urn:safir-dots-unit">
  <name>DoseTest.Items.TestCase</name>
  <members>
    <member>
      <name>Description</name>
      <value>Test a foreach update request with a brief response</value>
    </member>
    <member>
      <name>Expectation</name>
      <value>Partner 1 and 2 should get an update request and partner 0 should get a successful brief response. The read instances should have the Info element set to KalleKula</value>
    </member>
    <member>
      <name>TestCaseSetupActions</name>
      <arrayElements>
        <arrayElement>
          <object>
            <name>DoseTest.Action</name>
            <members>
              <member>
                <name>Partner</name>
                <value>1</value>
              </member>
              <member>
                <name>ActionKind</name>
                <value>DoseTest.ActionEnum.SendResponse</value>
              </member>
              <member>
                <name>ActionCallback</name>
                <value>Safir.Dob.CallbackId.OnUpdateRequest</value>
              </member>
              <member>
                <name>Object</name>
                <object>
                  <name>DoseTest.Success</name>
                  <members>
                    <member>
                      <name>Info</name>
                      <value>Succesful response</value>
                    </member>
                  </members>
                </object>
              </member>
              <member>
                <name>Consumer</name>
                <value>0</value>
              </member>
            </members>
          </object>
        </arrayElement>        
        <arrayElement>
          <object>
            <name>DoseTest.Action</name>
            <members>
              <member>
                <name>Partner</name>
                <value>2</value>
              </member>
              <member>
                <name>ActionKind</name>
                <value>DoseTest.ActionEnum.SendResponse</value>
              </member>
              <member>
                <name>ActionCallback</name>
                <value>Safir.Dob.CallbackId.OnUpdateRequest</value>
              </member>
              <member>
                <name>Object</name>
                <object>
                  <name>DoseTest.Success</name>
                    <members>
                      <member>
                        <name>Info</name>
                        <value>Succesful response</value>
                      </member>
                    </members>
                </object>
              </member>
              <member>
                <name>Consumer</name>
                <value>0</value>
              </member>
            </members>
          </object>
        </arrayElement>
        <arrayElement>
          <object>
            <name>DoseTest.Action</name>
            <members>
              <member>
                <name>Partner</name>
                <value>1</value>
              </member>
              <member>
                <name>ActionKind</name>
                <value>DoseTest.ActionEnum.RegisterEntityHandler</value>
              </member>
              <member>
                <name>TypeId</name>
                <value>DoseTest.GlobalEntity</value>
              </member>
              <member>
                <name>Handler</name>
                <value>PARTNER_1_HANDLER</value>
              </member>
              <member>
                <name>InstanceIdPolicy</name>
                <value>Safir.Dob.InstanceIdPolicy.RequestorDecidesInstanceId</value>
              </member>
              <member>
                <name>Consumer</name>
                <value>0</value>
              </member>
            </members>
          </object>
        </arrayElement>
        <arrayElement>
          <object>
            <name>DoseTest.Action</name>
            <members>
              <member>
                <name>Partner</name>
                <value>1</value>
              </member>
              <member>
                <name>ActionKind</name>
                <value>DoseTest.ActionEnum.SetAll</value>
              </member>
              <member>
                <name>Instance</name>
                <value>123</value>
              </member>
              <member>
                <name>Object</name>
                <object>
                  <name>DoseTest.GlobalEntity</name>
                  <members>
                    <member>
                      <name>Info</name>
                      <value>Text to be updated</value>
                    </member>
                  </members>
                </object>
              </member>
              <member>
                <name>Handler</name>
                <value>PARTNER_1_HANDLER</value>
              </member>
              <member>
                <name>Consumer</name>
                <value>0</value>
              </member>
            </members>
          </object>
        </arrayElement>        
        <arrayElement>
          <object>
            <name>DoseTest.Action</name>
            <members>
              <member>
                <name>Partner</name>
                <value>2</value>
              </member>
              <member>
                <name>ActionKind</name>
                <value>DoseTest.ActionEnum.RegisterEntityHandler</value>
              </member>
              <member>
                <name>TypeId</name>
                <value>DoseTest.GlobalEntity</value>
              </member>
              <member>
                <name>Handler</name>
                <value>PARTNER_2_HANDLER</value>
              </member>
              <member>
                <name>InstanceIdPolicy</name>
                <value>Safir.Dob.InstanceIdPolicy.RequestorDecidesInstanceId</value>
              </member>
              <member>
                <name>Consumer</name>
                <value>0</value>
              </member>
            </members>
          </object>
        </arrayElement>
        <arrayElement>
          <object>
            <name>DoseTest.Action</name>
            <members>
              <member>
                <name>Partner</name>
                <value>2</value>
              </member>
              <member>
                <name>ActionKind</name>
                <value>DoseTest.ActionEnum.SetAll</value>
              </member>
              <member>
                <name>Instance</name>
                <value>456</value>
              </member>
              <member>
                <name>Object</name>
                <object>
                  <name>DoseTest.GlobalEntity</name>
                  <members>
                    <member>
                      <name>Info</name>
                      <value>Text to be updated</value>
                    </member>
                  </members>
                </object>
              </member>
              <member>
                <name>Handler</name>
                <value>PARTNER_2_HANDLER</value>
              </member>
              <member>
                <name>Consumer</name>
                <value>0</value>
              </member>
            </members>
          </object>
        </arrayElement>
      </arrayElements>
    </member>
    <member>
      <name>TestActions</name>
      <arrayElements>
        <arrayElement>
          <object>
            <name>DoseTest.Action</name>
            <members>
              <member>
                <name>Partner</name>
                <value>0</value>
              </member>
              <member>
                <name>ActionKind</name>
                <value>DoseTest.ActionEnum.ServiceRequest</value>
              </member>
              <member>
                <name>Object</name>
                <object>
                  <name>Safir.Utilities.ForEach.UpdateRequest</name>
                  <members>
                    <member>
                      <name>TemplateEntityRequest</name>
                      <object>
                        <name>DoseTest.GlobalEntity</name>
                        <members>
                          <member>
                            <name>Info</name>
                            <value>KalleKula</value>
                          </member>
                        </members>
                      </object>
                    </member>
                    <member>
                      <name>ResponseType</name>
                      <value>Safir.Utilities.ForEach.ResponseType.Brief</value>
                    </member>
                    <member>
                      <name>OperateOn</name>
                      <arrayElements>
                        <arrayElement>
                          <entityId>
                            <name>DoseTest.GlobalEntity</name>
                            <instanceId>123</instanceId>
                          </entityId>
                        </arrayElement>
                        <arrayElement>
                          <entityId>
                            <name>DoseTest.GlobalEntity</name>
                            <instanceId>456</instanceId>
                          </entityId>
                        </arrayElement>
                      </arrayElements>
                    </member>                    
                  </members>
                </object>
              </member>
              <member>
                <name>Handler</name>
                <value>DEFAULT_HANDLER</value>
              </member>              
              <member>
                <name>Consumer</name>
                <value>1</value>
              </member>
            </members>
          </object>
        </arrayElement>
        <arrayElement>
          <object>
            <name>DoseTest.Action</name>
            <members>
              <member>
                <name>ActionKind</name>
                <value>DoseTest.ActionEnum.Sleep</value>
              </member>
              <member>
                <name>SleepDuration</name>
                <value>10</value>
              </member>
            </members>
          </object>
        </arrayElement>
        <arrayElement>
          <object>
            <name>DoseTest.Action</name>
            <members>
              <member>
                <name>Partner</name>
                <value>0</value>
              </member>
              <member>
                <name>ActionKind</name>
                <value>DoseTest.ActionEnum.Read</value>
              </member>
              <member>
                <name>EntityId</name>
                <entityId>
                  <name>DoseTest.GlobalEntity</name>
                  <instanceId>123</instanceId>
                </entityId>
              </member>
              <member>
                <name>Consumer</name>
                <value>0</value>
              </member>
            </members>
          </object>
        </arrayElement>
        <arrayElement>
          <object>
            <name>DoseTest.Action</name>
            <members>
              <member>
                <name>Partner</name>
                <value>0</value>
              </member>
              <member>
                <name>ActionKind</name>
                <value>DoseTest.ActionEnum.Read</value>
              </member>
              <member>
                <name>EntityId</name>
                <entityId>
                  <name>DoseTest.GlobalEntity</name>
                  <instanceId>456</instanceId>
                </entityId>
              </member>
              <member>
                <name>Consumer</name>
                <value>0</value>
              </member>
            </members>
          </object>
        </arrayElement>
      </arrayElements>
    </member>
  </members>
</object>

